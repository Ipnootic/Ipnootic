<?xml version="1.0" encoding="UTF-8"?>
<window>
    <controls>
        <!-- Background overlay (semi-transparent) -->
        <control type="image">
            <left>0</left>
            <top>0</top>
            <width>1920</width>
            <height>1080</height>
            <texture colordiffuse="80000000">fen_common/white.png</texture>
            <animation type="WindowOpen" reversible="false">
                <effect type="fade" start="0" end="100" time="200" />
            </animation>
            <animation type="WindowClose" reversible="false">
                <effect type="fade" start="100" end="0" time="200" />
            </animation>
        </control>
        
        <!-- Main subtitle panel -->
        <control type="group">
            <left>$INFO[Window().Property(overlay_x)]</left>
            <top>$INFO[Window().Property(overlay_y)]</top>
            <animation type="WindowOpen" reversible="false">
                <effect type="fade" end="100" time="300" />
                <effect type="slide" start="0,-50" end="0,0" time="300" tween="sine" />
            </animation>
            <animation type="WindowClose" reversible="false">
                <effect type="fade" start="100" end="0" time="200" />
                <effect type="slide" start="0,0" end="0,-30" time="200" tween="sine" />
            </animation>
            
            <!-- Panel background -->
            <control type="image">
                <left>-2</left>
                <top>-2</top>
                <width>$INFO[Window().Property(overlay_width_plus)]</width>
                <height>$INFO[Window().Property(overlay_height_plus)]</height>
                <texture colordiffuse="FFCCCCCC" border="15">fen_common/circle.png</texture>
            </control>
            <control type="image">
                <width>$INFO[Window().Property(overlay_width)]</width>
                <height>$INFO[Window().Property(overlay_height)]</height>
                <texture colordiffuse="FF1F2020" border="15">fen_common/circle.png</texture>
            </control>
            
            <!-- Header -->
            <control type="group">
                <control type="image">
                    <left>8</left>
                    <top>8</top>
                    <width>25</width>
                    <height>25</height>
                    <aspectratio>keep</aspectratio>
                    <texture colordiffuse="FFCCCCCC">fen_common/fen.png</texture>
                </control>
                <control type="label">
                    <left>40</left>
                    <top>6</top>
                    <width>$INFO[Window().Property(header_width)]</width>
                    <height>30</height>
                    <font>font12</font>
                    <textcolor>FFCCCCCC</textcolor>
                    <align>left</align>
                    <aligny>center</aligny>
                    <label>[UPPERCASE][B]Legendas Disponíveis[/B][/UPPERCASE]</label>
                </control>
                <!-- Close button -->
                <control type="button" id="9999">
                    <left>$INFO[Window().Property(close_button_x)]</left>
                    <top>5</top>
                    <width>25</width>
                    <height>25</height>
                    <font>font10</font>
                    <textcolor>FFCCCCCC</textcolor>
                    <focusedcolor>FF1F2020</focusedcolor>
                    <texturefocus colordiffuse="FFCCCCCC" border="12">fen_common/circle.png</texturefocus>
                    <texturenofocus colordiffuse="FF4a4347" border="12">fen_common/circle.png</texturenofocus>
                    <align>center</align>
                    <aligny>center</aligny>
                    <label>✕</label>
                    <onleft>5001</onleft>
                    <onright>5001</onright>
                    <onup>5001</onup>
                    <ondown>5001</ondown>
                </control>
            </control>
            
            <!-- Subtitles list -->
            <control type="fixedlist" id="5001">
                <pagecontrol>5060</pagecontrol>
                <left>8</left>
                <top>45</top>
                <width>$INFO[Window().Property(list_width)]</width>
                <height>$INFO[Window().Property(list_height)]</height>
                <onup>5001</onup>
                <ondown>5001</ondown>
                <onright>9999</onright>
                <onleft>9999</onleft>
                <scrolltime tween="sine">150</scrolltime>
                <orientation>Vertical</orientation>
                <focusposition>2</focusposition>
                <movement>3</movement>
                <itemlayout height="35" width="$INFO[Window().Property(list_width)]">
                    <control type="label">
                        <left>10</left>
                        <width max="$INFO[Window().Property(item_width)]">auto</width>
                        <height>35</height>
                        <font>font11</font>
                        <textcolor>FFCCCCCC</textcolor>
                        <align>left</align>
                        <aligny>center</aligny>
                        <label>$INFO[ListItem.Property(subtitle_name)]</label>
                    </control>
                    <control type="label">
                        <left>$INFO[Window().Property(quality_x)]</left>
                        <width>60</width>
                        <height>35</height>
                        <font>font10</font>
                        <textcolor>FF888888</textcolor>
                        <align>right</align>
                        <aligny>center</aligny>
                        <label>$INFO[ListItem.Property(quality)]</label>
                    </control>
                </itemlayout>
                <focusedlayout height="35" width="$INFO[Window().Property(list_width)]">
                    <control type="image">
                        <animation effect="fade" start="100" end="50" time="0" condition="!Control.HasFocus(5001)">Conditional</animation>
                        <width>$INFO[Window().Property(list_width)]</width>
                        <height>35</height>
                        <texture colordiffuse="FFCCCCCC" border="17">fen_common/circle.png</texture>
                    </control>
                    <control type="label">
                        <left>10</left>
                        <width max="$INFO[Window().Property(item_width)]">auto</width>
                        <height>35</height>
                        <font>font11</font>
                        <textcolor>FF1F2020</textcolor>
                        <align>left</align>
                        <aligny>center</aligny>
                        <label>$INFO[ListItem.Property(subtitle_name)]</label>
                    </control>
                    <control type="label">
                        <left>$INFO[Window().Property(quality_x)]</left>
                        <width>60</width>
                        <height>35</height>
                        <font>font10</font>
                        <textcolor>FF333333</textcolor>
                        <align>right</align>
                        <aligny>center</aligny>
                        <label>$INFO[ListItem.Property(quality)]</label>
                    </control>
                </focusedlayout>
            </control>
            
            <!-- Scrollbar -->
            <control type="scrollbar" id="5060">
                <top>45</top>
                <left>$INFO[Window().Property(scrollbar_x)]</left>
                <width>6</width>
                <height>$INFO[Window().Property(list_height)]</height>
                <texturesliderbackground colordiffuse="FF1F2020">fen_common/white.png</texturesliderbackground>
                <texturesliderbar colordiffuse="FF555556">fen_common/white.png</texturesliderbar>
                <texturesliderbarfocus colordiffuse="FFCCCCCC">fen_common/white.png</texturesliderbarfocus>
                <onleft>5001</onleft>
                <onright>5001</onright>
                <showonepage>false</showonepage>
                <orientation>vertical</orientation>
                <visible>Control.IsVisible(5001)</visible>
            </control>
            
            <!-- Footer info -->
            <control type="label">
                <left>8</left>
                <top>$INFO[Window().Property(footer_y)]</top>
                <width>$INFO[Window().Property(list_width)]</width>
                <height>25</height>
                <font>font10</font>
                <textcolor>FF888888</textcolor>
                <align>center</align>
                <aligny>center</aligny>
                <label>Enter: Selecionar | Esc: Fechar | Setas: Navegar</label>
            </control>
        </control>
        
        <!-- Auto-hide timer (optional visual indicator) -->
        <control type="progress" id="8000">
            <left>$INFO[Window().Property(overlay_x)]</left>
            <top>$EVAL[Window().Property(overlay_y) - 25]</top>
            <width>200</width>
            <height>6</height>
            <texturebg colordiffuse="40FFFFFF">fen_common/white.png</texturebg>
            <lefttexture colordiffuse="FFCCCCCC">fen_common/white.png</lefttexture>
            <midtexture colordiffuse="FFCCCCCC">fen_common/white.png</midtexture>
            <righttexture colordiffuse="FFCCCCCC">fen_common/white.png</righttexture>
            <visible>String.IsEqual(Window().Property(show_timer),true)</visible>
        </control>
    </controls>
</window>
